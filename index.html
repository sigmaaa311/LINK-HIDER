<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VEXIFIED | Roblox Link Hider</title>
<style>
    body {
        margin: 0;
        background: black;
        color: white;
        font-family: Arial, sans-serif;
        text-align: center;
        overflow-x: hidden;
    }
    canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: -1;
    }
    .container {
        margin-top: 80px;
        padding: 0 15px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }
    input {
        padding: 12px;
        border-radius: 6px;
        border: none;
        outline: none;
        width: 100%;
        font-size: 1rem;
        text-align: center;
        margin-bottom: 10px;
    }
    button {
        background: #00a8ff;
        color: white;
        padding: 12px 20px;
        margin: 5px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        transition: 0.3s;
        width: 48%;
    }
    button:hover {
        background: #33ccff;
        box-shadow: 0 0 10px #33ccff;
    }
    .output {
        margin-top: 20px;
        background: rgba(255,255,255,0.1);
        padding: 10px;
        border-radius: 6px;
        font-family: monospace;
        word-break: break-all;
        display: inline-block;
        max-width: 100%;
        cursor: text;
    }
    @media (max-width: 500px) {
        button {
            width: 100%;
        }
    }
</style>
</head>
<body>

<canvas id="bgCanvas"></canvas>

<div class="container">
    <h1>! Vextroz Link Hider</h1>
    <input id="urlInput" placeholder="Paste your Roblox-like link here">
    <div>
        <button onclick="maskLink()">Generate</button>
        <button onclick="copyOutput()">Copy</button>
    </div>
    <div class="output" id="outputBox"></div>
</div>

<script>
function formatMasked(url) {
    return `[${url.replace(':', '__:__')}](short-url-here)`;
}

function maskLink() {
    let input = document.getElementById("urlInput").value.trim();
    if (!input) {
        alert("Please paste a link first!");
        return;
    }

    try {
        let url = new URL(input);
        let pathParts = url.pathname.split('/').filter(Boolean);
        let masked = "";

        // Profile link
        if (pathParts[0] === "users" && pathParts[2] === "profile") {
            masked = formatMasked(`https://www.roblox.com/users/${pathParts[1]}/profile`);
        } 
        // Share server link
        else if (url.pathname.startsWith("/share") && url.searchParams.has("code")) {
            masked = formatMasked(`https://www.roblox.com/share?code=${url.searchParams.get("code")}&type=Server`);
        } 
        // Private server in games (old style)
        else if (pathParts[0] === "games" && url.searchParams.has("privateServerLinkCode")) {
            masked = formatMasked(`https://www.roblox.com/share?code=${url.searchParams.get("privateServerLinkCode")}&type=Server`);
        }
        // Normal game link
        else if (pathParts[0] === "games" && pathParts[1]) {
            masked = formatMasked(`https://www.roblox.com/games/${pathParts[1]}/${pathParts[2] || ''}`);
        }
        // Community
        else if (pathParts[0] === "communities" && pathParts[2] === "Community") {
            masked = formatMasked(`https://www.roblox.com/communities/${pathParts[1]}/Community`);
        } 
        // Group
        else if (pathParts[0] === "groups" && pathParts[1]) {
            masked = formatMasked(`https://www.roblox.com/groups/${pathParts[1]}`);
        } 
        else {
            masked = "Could not detect type from link!";
        }

        document.getElementById("outputBox").textContent = masked;
    } catch (err) {
        document.getElementById("outputBox").textContent = "Invalid URL format!";
    }
}

function copyOutput() {
    let text = document.getElementById("outputBox").textContent;
    if (!text || text.includes("Could not")) {
        alert("No valid link to copy!");
        return;
    }
    navigator.clipboard.writeText(text).then(() => {
        alert("Copied to clipboard!");
    }).catch(() => {
        alert("Copy failed. Please copy manually.");
    });
}

// Background snow animation
const canvas = document.getElementById("bgCanvas");
const ctx = canvas.getContext("2d");
let snowflakes = [];

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

function createSnowflake() {
    return {
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        radius: Math.random() * 2 + 1,
        speedY: Math.random() * 1 + 0.5
    };
}

function initSnow() {
    snowflakes = [];
    for (let i = 0; i < 100; i++) {
        snowflakes.push(createSnowflake());
    }
}

function drawSnow() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#33ccff";
    ctx.beginPath();
    snowflakes.forEach(flake => {
        ctx.moveTo(flake.x, flake.y);
        ctx.arc(flake.x, flake.y, flake.radius, 0, Math.PI * 2);
    });
    ctx.fill();

    snowflakes.forEach(flake => {
        flake.y += flake.speedY;
        if (flake.y > canvas.height) {
            flake.x = Math.random() * canvas.width;
            flake.y = 0;
        }
    });

    requestAnimationFrame(drawSnow);
}

initSnow();
drawSnow();
</script>

</body>
</html>
