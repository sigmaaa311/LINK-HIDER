<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VEXIFIED | Roblox Link Hider</title>
<style>
    body {
        margin: 0;
        background: black;
        color: white;
        font-family: Arial, sans-serif;
        text-align: center;
        overflow: hidden;
    }
    canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: -1;
    }
    .container {
        margin-top: 80px;
        max-width: 90%;
        margin-left: auto;
        margin-right: auto;
    }
    input {
        padding: 12px;
        border-radius: 6px;
        border: none;
        outline: none;
        width: 300px;
        font-size: 1rem;
        text-align: center;
    }
    button {
        background: #00a8ff;
        color: white;
        padding: 12px 20px;
        margin: 10px 5px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        transition: 0.3s;
    }
    button:hover {
        background: #33ccff;
        box-shadow: 0 0 10px #33ccff;
    }
    .output {
        margin-top: 20px;
        background: rgba(255,255,255,0.1);
        padding: 10px;
        border-radius: 6px;
        font-family: monospace;
        word-break: break-all;
        display: inline-block;
    }
</style>
</head>
<body>

<canvas id="bgCanvas"></canvas>

<div class="container">
    <h1>! Vextroz link - hider</h1>
    <input id="urlInput" placeholder="Paste your Roblox-like link here">
    <button onclick="maskLink()">Generate</button>
    <button onclick="copyOutput()">Copy</button>
    <div class="output" id="outputBox"></div>
</div>

<script>
function maskLink() {
    let input = document.getElementById("urlInput").value.trim();
    if (!input) {
        alert("Please paste a link first!");
        return;
    }

    try {
        let url = new URL(input);
        let pathParts = url.pathname.split('/').filter(Boolean);
        let masked = "";

        // Profile link: /users/{id}/profile
        if (pathParts[0] === "users" && pathParts[2] === "profile") {
            masked = `[https://www.roblox.com/users/${pathParts[1]}/profile](shorten url)`;
        } 
        // Share type: /share?code=...&type=Server
        else if (url.pathname.startsWith("/share") && url.searchParams.has("code") && url.searchParams.get("type") === "Server") {
            masked = `[https://www.roblox.com/share?code=${url.searchParams.get("code")}&type=Server](shorten url)`;
        } 
        // Private server in games: /games/{gameId}/{name}?privateServerLinkCode=...
        else if (pathParts[0] === "games" && url.searchParams.has("privateServerLinkCode")) {
            masked = `[https://www.roblox.com/games/${pathParts[1]}/${pathParts[2]}?privateServerLinkCode=${url.searchParams.get("privateServerLinkCode")}](shorten url)`;
        }
        // Community/group type
        else if (pathParts[0] === "communities" && pathParts[2] === "Community") {
            masked = `[https://www.roblox.com/communities/${pathParts[1]}/Community](shorten url)`;
        } 
        // Old style group
        else if (pathParts[0] === "groups" && pathParts[1]) {
            masked = `[https://www.roblox.com/groups/${pathParts[1]}](shorten url)`;
        } 
        else {
            masked = "Could not detect type from link!";
        }

        document.getElementById("outputBox").textContent = masked;
    } catch (err) {
        document.getElementById("outputBox").textContent = "Invalid URL format!";
    }
}

function copyOutput() {
    let text = document.getElementById("outputBox").textContent;
    if (!text || text.includes("Could not")) {
        alert("No valid link to copy!");
        return;
    }
    navigator.clipboard.writeText(text).then(() => {
        alert("Copied to clipboard!");
    }).catch(() => {
        alert("Copy failed. Please copy manually.");
    });
}

// Background comet animation
const canvas = document.getElementById("bgCanvas");
const ctx = canvas.getContext("2d");
let particles = [];

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

function createParticle() {
    return {
        x: Math.random() * canvas.width,
        y: -10,
        length: Math.random() * 20 + 10,
        speed: Math.random() * 2 + 1,
        opacity: Math.random() * 0.5 + 0.5
    };
}

for (let i = 0; i < 50; i++) {
    particles.push(createParticle());
}

function drawParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
        ctx.beginPath();
        const grad = ctx.createLinearGradient(p.x, p.y, p.x, p.y + p.length);
        grad.addColorStop(0, `rgba(0,168,255,${p.opacity})`);
        grad.addColorStop(1, 'transparent');
        ctx.strokeStyle = grad;
        ctx.lineWidth = 2;
        ctx.moveTo(p.x, p.y);
        ctx.lineTo(p.x, p.y + p.length);
        ctx.stroke();

        p.y += p.speed;
        if (p.y > canvas.height) {
            Object.assign(p, createParticle());
        }
    });
    requestAnimationFrame(drawParticles);
}
drawParticles();
</script>

</body>
</html>
